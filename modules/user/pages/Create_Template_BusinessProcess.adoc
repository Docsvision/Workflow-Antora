= Создание шаблона бизнес-процесса

Автоматизация любого принятого в организации бизнес-процесса начинается с его формального описания и создания алгоритма его прохождения, который затем реализуется в карточке шаблона бизнес-процесса при помощи функций, являющихся составной частью модуля. Таким образом шаблон бизнес-процесса -- карточка, содержащая формальное описание реального бизнес-процесса организации в виде последовательности функций.

Структура бизнес-процесса может оказаться достаточно сложной: бизнес-процесс может разделяться на несколько ветвей, каждая из которых выполняется самостоятельно, при этом общий результат выполнения бизнес-процесса может зависеть от выполнения одной, нескольких или всех ветвей (которые могут затем снова объединяться в одну ветвь или оканчиваться каждая самостоятельно). В тело бизнес-процесса могут включаться циклы, организуемые с помощью функций счетчик и расписание: в этом случае бизнес-процесс (или какая-либо его часть) проходит многократное исполнение в зависимости от условий цикла. Любая функция может включать параметр задержки перед последующим её исполнением в цикле бизнес-процесса. Последовательность функций устанавливается переходами между ними -- связями, определяющими передачу управления БП от одной функции к другой.

Возможность создания нового БП имеют только пользователи, которые являются членами группы безопасности "{dv} Workflow Process Creators" (и "{dv} Administrators") на компьютере с сервером СЭД {dv}. Включить пользователя в указанную группу может администратор компьютера.

Чтобы создать шаблон нового БП:

. Откройте {wincl}.
. Создайте новую карточку типа "Бизнес-процесс".
[loweralpha]
.. Откройте папку, в которой будет размещен БП, в дереве папок.
.. Вызовите команду menu:Создать карточку[Бизнес-процесс] из контекстного меню папки или на ленте {wincl}а.
+
Будет открыт "Конструктор бизнес-процессов".

image::Bp_designer_newcard.png["Конструктор бизнес-процессов"]
. Если для настройки БП нужны функции или типы перемененных, которые предоставляют _шлюзы_, добавьте их (_шлюзы_) в БП.
+
В новые БП автоматически добавляются _шлюзы_: шлюз к простым типам (не может быть отключен), шлюз к {dv}, шлюз к файловой системе. Другие _шлюзы_ (в т.ч. шлюз к почте), при необходимости, нужно добавить самостоятельно.
. Добавьте переменные БП, которые потребуются для работы функций, а также другие свойства БП (подробнее в разделе xref:Properties_Window_BusinessProcess.adoc[Общие свойства бизнес-процесса]).
. Создайте схему БП:
[loweralpha]
.. Добавьте в область графа БП требуемые функции.
+
Обязательно должны быть добавлены функции "Начальная функция" и "Конечная функция".
.. Настройте связи между функциями БП.
+
Между функциями "Начальная функция" и "Конечная функция" должна существовать непрямая (через другие функции) связь.
.. Настроить свойства функций БП.
. Сохранить бизнес-процесс.

Любой шаблон бизнес-процесса со всем набором функций может экспортироваться в файл формата [.keyword .parmname]_.xml_; возможна также обратная операция -- импорт шаблона бизнес-процесса из файла формата [.keyword .parmname]_.xml_, что позволяет создавать новые шаблоны бизнес-процессов на основе существующих.

Для запуска бизнес-процесса по его шаблону создается экземпляр бизнес-процесса, выполнение которого начинается с его инициализации, осуществляемой начальной функцией. После этого управление бизнес-процессом передается функциями друг другу согласно исходящим связям.
