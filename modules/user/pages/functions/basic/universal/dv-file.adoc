= Файл DV

[cols=",,",options="header"]
|===
|Функция |Параметры функции |Тип значения параметра

|Вернуть файл в основное хранилище
|–
|–

|Вернуть файлы в основное хранилище
|Файлы
|Файл DV, коллекция

|Вывести файл во внешнее хранилище
|–
|–

|Вывести файл во внешнее хранилище с указанием режима возврата
|Автоматически возвращать файл из внешнего хранилища
|Да/Нет

|Вывести файлы во внешнее хранилище
|Файлы
|Файл DV, коллекция

.2+|Вывести файлы во внешнее хранилище с указанием режима возврата
|Файлы
|Файл DV, коллекция
|Автоматически возвращать файл из внешнего хранилища
|Да/Нет

|Добавить подпись
|Сотрудник
|Сотрудник DV

.3+|Заблокировать файл и сохранить на диск
|Файл
|Файл ФС
|Сотрудник
|Сотрудник DV
|Сохранить на диск
|Да/Нет

.3+|Заблокировать файл по пути и сохранить на диск
|Путь к файлу
|Строковое
|Идентификатор сотрудника
|Строковое
|Сохранить на диск
|Да/Нет

|Зашифровать файл для сотрудника
|Сотрудник
|Сотрудник DV

|Получить список подписавших
|Список подписавших
|Сотрудник DV, коллекция, выходной параметр

|Получить список шифрования
|Список шифрования
|Сотрудник DV, коллекция, выходной параметр

.2+|Проверить подпись
|Сотрудник
|Сотрудник DV
|Возвращаемое значение
|Целое, выходной параметр

|Расшифровать файл
|Возвращаемое значение
|Файл ФС, выходной параметр

|Сохранить изменения и разблокировать
|Файл
|Файл ФС

.3+|Сохранить изменения и разблокировать с синхронизацией свойств
|Файл
|Файл ФС
|Копировать поля в свойства файла
|Да/Нет
|Копировать свойства файла в поля
|Да/Нет

|Сохранить изменения и разблокировать с синхронизацией свойств по умолчанию
|Файл
|Файл ФС

|Сохранить файл
|Путь к файлу
|Строковое, обязательный параметр

.2+|Сохранить файл в папку
|Папка
|Папка ФС
|Перезаписывать файлы
|Да/Нет

|Сохранить файл в файл
|Путь к файлу
|Файл ФС, обязательный параметр

.3+|Сохранить файлы в папку
|Карточки файла
|Файл DV, коллекционное
|Папка
|Папка ФС
|Перезаписывать файлы
|Да/Нет

|Удалить все подписи
|–
|–

|Удалить подпись
|Сотрудник
|Сотрудник DV

|Удалить шифрование для сотрудника
|Сотрудник
|Сотрудник DV

|Удалить шифрование файла
|–
|–
|===

* При использовании функции _Заблокировать файл по пути и сохранить на диск_ файл будет заблокирован в системе {dv} и сохранен в файловой системе компьютера, на котором установлен сервер {dv} и работает служба *{wfs}*.
+
В диалоговом окне _Блокировки_ в качестве пользователя, блокирующего файл, будет указана учетная запись Workflow. Фамилия пользователя, чей идентификатор указан в параметрах функции, будет указана в карточках, к которым присоединен этот файл. Диалоговое окно  _Блокировки_ доступно из пункта _Сервис_ в главном меню.
+
* Функция _Проверить подпись_ возвращает значения:
+
** -1 -- файл не подписан указанным пользователем.
** 0 -- подпись верна.
** 1 -- подпись верна, но сертификат некорректен.
** 2 -- подпись неверна.
+
* Функция _Расшифровать файл_ создаёт в файловой системе новый файл, содержащий расшифрованные данные. Исходный файл на сервере {dv} остаётся зашифрованным.
