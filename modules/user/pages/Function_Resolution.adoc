=  Функция рассылки задачи

== Пиктограмма функции

image:Buttons/Function_Resolution.png[image]

== Общее описание функции

[NOTE]
====
[.note__title]#Прим.:# [.keyword]*Функция рассылки задачи* работает с карточками системы [.dfn .term]_Docsvision 4.5_ и, как следствие, применяется для интеграции систем [.dfn .term]_Docsvision 5_ и [.dfn .term]_Docsvision 4.5_.
====

[.keyword]*Функция рассылки задачи* предназначена для создания бизнес-процесса по *экземпляру* карточки задачи (карточка приложения [.dfn .term]_Делопроизводство_ системы [.dfn .term]_Docsvision 4.5_). При этом она самостоятельно создает и рассылает исполнителям и контролеру (если он указан в карточке задачи) задания, необходимые для ее исполнения.

Кроме того, [.keyword]*Функция рассылки задачи* может содержать в качестве параметра для обработки конкретную карточку задачи или же быть включена в сложный бизнес-процесс для самостоятельного создания параметров карточки задачи, что может быть вызвано событиями, происходящими во время исполнения бизнес-процесса.

== Сценарии использования

[.keyword]*Функция рассылки задачи* имеет два режима работы, предназначенные для решения описанных выше задач:

. Формирование заданий по вновь создаваемым карточкам задачи.
. Создание новой карточки задачи в процессе работы бизнес-процесса.

[.keyword .parmname]_Формирование заданий по вновь создаваемым карточкам задач_

Для адекватного и своевременного формирования заданий по вновь создаваемым карточкам задачи необходимо, чтобы в системе постоянно находился активный экземпляр бизнес-процесса, назначением которого являлось бы обнаружение активизированных карточек задачи и создание бизнес-процессов для их исполнения.

Этот бизнес-процесс может устанавливаться автоматически при инсталляции системы или вручную после ее установки. Схема работы функции в этом режиме выглядит следующим образом:

* Активизация карточки задачи делает ее «видимой» для функции рассылки задачи в режиме обработки новых активных карточек задач, которая создает бизнес-процесс исполнения задачи в соответствии с параметрами, описанными в карточке.
* При этом формируются отдельные задания для каждого из исполнителей, а также для контролера (если этот параметр указан в карточке задачи).

image::Example_of_Functions_Resolution.png[[.fig--title-label]#Рис. 1. # Бизнес-процесс обнаружения активизированных карточек задач]

[.keyword .parmname]_Создание новой карточки задачи в процессе работы бизнес-процесса_

В режиме создания карточки задачи функция создает бизнес-процесс, предназначенный для рассылки заданий в соответствии с параметрами экземпляра карточки задачи, который может формироваться функцией самостоятельно в соответствии с указанными в ней параметрами, создаваться по имеющемуся в системе шаблону или порождаться универсальной функцией бизнес-процесса (с передачей ее полям значений при помощи универсального обмена данными).

== Настройка параметров

image::Parameters_Resolution.png[[.fig--title-label]##Рис. 2. ##Свойства "Функции рассылки задачи". Вкладка "Параметры"]

На вкладке [.keyword]*Параметры* окна свойств функции указываются параметры формирования заданий по исполнению задачи.

Режим обработки новых активных задач::
  Флаг переводит функцию в режим обнаружения активизированных карточек задачи; как уже было сказано, в этом режиме функция входит в состав простого бизнес-процесса, один экземпляр которого должен быть активным постоянно. При установленном флаге все остальные поля функции становятся недоступны.

Во всех остальных случаях использования функции поля заполняются параметрами, которые могут указываться как явно, так и при помощи переменных бизнес-процесса; при этом в выпадающих списках для выбора доступны только переменные типов, соответствующих типу поля. Все поля сгруппированы в две секции.

Создание карточки::
  В секции описываются данные создаваемой карточки; она состоит из следующих полей (назначение большинства из них не нуждается в отдельных комментариях):
  +
  * [.keyword]*Задача*.
  * [.keyword]*Название*.
  * [.keyword]*Регистратор*.
  * [.keyword]*Контролер*.
  * [.keyword]*Ответственный исполнитель*.
  * [.keyword]*Исполнители*.
  * [.keyword]*Карточки документов*.
  * [.keyword]*Карточки файлов*.
  * [.keyword]*Дата начала*.
  * [.keyword]*Дата завершения*.
  * [.keyword]*Дата контроля*;
  * [.keyword]*Длительность (час.)*.
  * [.keyword]*Подписано*.
  * [.keyword]*Дата подписания*.
  * [.keyword]*Вариант исполнения*; поле должно содержать переменную (значение) целого типа, при этом 0 предполагает параллельный вариант исполнения задания, 1 – последовательный, 2 – альтернативный.
  * [.keyword]*Высокая срочность*.
  * [.keyword]*Содержание*.
  * [.keyword]*Папка карточки* – папка, в которую помещается формируемая карточка задачи.
  * [.keyword]*Папка процесса* – папка, в которую будет помещен экземпляр процесса, созданного по формируемой карточке задачи.
  * [.keyword]*Период опроса*.

В секции *Результат исполнения* описываются результаты работы функции; в нее входит единственное поле, в котором указывается [.keyword]*Дата реального завершения* выполнения заданий, включаемых в формируемую карточку задачи.

*На уровень выше:* xref:Function_Gate_Docsvision45.adoc[Функции шлюза к Docsvision 4.5]
