=  Управление заданием

== Пиктограмма функции

image:Buttons/Function_Management_Task.png[image]

== Общее описание функции

[NOTE]
====
[.note__title]#Прим.:# Функция [.keyword]*Управление заданием* работает с карточками системы [.dfn .term]_Docsvision 4.5_ и, как следствие, применяется для интеграции систем [.dfn .term]_Docsvision 5_ и [.dfn .term]_Docsvision 4.5_.
====

Функция [.keyword]*Управление заданием* позволяет изменять некоторые параметры задания непосредственно во время работы бизнес-процесса; необходимость в подобных изменениях может вызываться обстоятельствами, возникающими во время выполнения задания.

Состояние задания изменяется сразу после выполнения функции [.keyword]*Управление заданием*. Все остальные изменения вносятся в карточку задания и ее переменные во время обработки функции [.keyword]*Задание*.

== Сценарии использования

На рисунке ниже представлен пример использования данной функции. В приведенном бизнес-процессе после начальной функции управление передается функции задания ([.keyword .parmname]_Задание по согласованию сметы_) и параллельно – функции расписания ([.keyword .parmname]_Расчет даты замены исполнителя_), за которой следует функция управления заданием ([.keyword .parmname]_Замена исполнителя_).

image::Example_of_Functions_ManagementTask.png[[.fig--title-label]##Рис. 1. ##Пример работы функции управления заданием]

Последовательность работы данного бизнес-процесса:

. Начальная функция передает управление бизнес-процессом функциям [.keyword .parmname]_Задание по согласованию сметы_ и [.keyword .parmname]_Расчет даты замены исполнителя_.
. Задание, отправленное функцией [.keyword .parmname]_Задание по согласованию сметы_, взято в работу.
. Функция расписания определяет период задержки, до окончания которого [.keyword .parmname]_Задание по согласованию сметы_ может быть выполнено без использования функции [.keyword .parmname]_Замена исполнителя_.
. Если [.keyword .parmname]_Задание по согласованию сметы_ не выполнено до истечения срока действия функции [.keyword .parmname]_Расчет даты замены исполнителя_, функция [.keyword .parmname]_Замена исполнителя_ изменяет данные (исполнителя) функции [.keyword .parmname]_Задание по согласованию сметы_.
. Управление бизнес-процессом повторно передается на функцию [.keyword .parmname]_Задание по согласованию сметы_, но уже с новым исполнителем.

Подобный бизнес-процесс может использоваться для согласования документов; при этом в случае, например, отбытия в командировку (болезни) исполнителя, взявшего задание в работу и не выполнившего его, задание через определенный промежуток времени будет передано другому исполнителю и выполнено в срок.

== Настройка параметров

image::Parameters_Management_Task.png[[.fig--title-label]#Рис. 2. # Свойства функции "Управление заданием". Вкладка "Основные данные"]

Основные параметры управления заданием указываются на вкладке [.keyword]*Основные данные* окна свойств функции.

Функция задания::
  В поле указываются одна или несколько уже описанных функций [.keyword]*Задание*, выбранных для модификации. Эти функции отображаются в нижнем поле секции [.keyword]*Функция задания*. Чтобы внести в это поле нужную функцию, выберите ее в раскрывающемся списке верхнего поля секции и нажмите кнопку image:Buttons/Add.png[image] [.ph .uicontrol]*Добавить*. Удалить выбранную ранее функцию можно, выделив ее в списке и нажав кнопку image:Buttons/Delete.png[image] [.ph .uicontrol]*Удалить*.

Под полем [.keyword]*Функция задания* расположена группа переключателей, позволяющих выбрать параметр, который будет изменен в указанных функциях задания.

Принудительное завершение задания::
  Позволяет отметить задание как завершенное без участия исполнителя, при этом из личной папки исполнителя удаляется ярлык карточки задания.
Принудительный отзыв задания::
  Позволяет отозвать задание, в котором не задан текущий исполнитель (то есть на вкладке [.keyword]*Исполнение задания* функции [.keyword]*Задание* поле [.ph .uicontrol]*Текущий исполнитель* пусто, задание не взято в работу).
Изменять только содержание::
  Указывает на то, что для изменения будет доступно только содержание задания. Поле ввода нового содержания находится в нижней части окна.
Новое состояние::
  Позволяет указать другое состояние задания.
Новый исполнитель::
  Позволяет указать нового исполнителя путем выбора из [.dfn .term]_Справочника сотрудников_ или заданием переменной соответствующего типа.
Делегировать к::
  Указывается сотрудник путем выбора из справочника сотрудников или заданием переменной соответствующего типа.

Если функция управления заданием должна изменить несколько функций задания, то из всех перечисленных опций будут доступными только [.keyword]*Принудительное завершение задания* и [.keyword]*Принудительный отзыв задания*.

[NOTE]
====
[.note__title]#Прим.:# Перед изменением состояния задания бизнес-процесса необходимо проверить, задан ли текущий исполнитель задания (то есть заполнено ли на вкладке [.keyword]*Исполнение задания* функции [.keyword]*Задание* поле [.ph .uicontrol]*Текущий исполнитель*). Это поле заполняется, когда исполнитель принимает задание в работу. Таким образом, функцию управления заданием, определяющую смену состояния задания, следует предварять еще одной функцией управления заданием, проверяющей его состояние.
====

Изменить содержание::
  Позволяет изменить содержание задания; новое содержание вводится в поле [.keyword]*Содержание* с клавиатуры или при помощи переменной типа [.dfn .term]_Строка_.
Дополнить существующее содержание::
  Позволяет дополнить содержание задания; дополнительное содержание вводится в поле [.keyword]*Содержание* с клавиатуры или при помощи переменной типа [.dfn .term]_Строка_.

*На уровень выше:* xref:Function_Gate_Docsvision45.adoc[Функции шлюза к Docsvision 4.5]
