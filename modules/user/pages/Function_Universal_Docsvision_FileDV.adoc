=  Файл DV

[cols=",,",options="header",]
|===
|Функция |Параметры функции |Тип значения параметра
|Вернуть файл в основное хранилище |– |–
|Вернуть файлы в основное хранилище |Файлы |Файл DV, коллекция
|Вывести файл во внешнее хранилище |– |–
|Вывести файл во внешнее хранилище с указанием режима возврата |Автоматически возвращать файл из внешнего хранилища |Да/Нет
|Вывести файлы во внешнее хранилище |Файлы |Файл DV, коллекция
|Вывести файлы во внешнее хранилище с указанием режима возврата |Файлы |Файл DV, коллекция
| |Автоматически возвращать файл из внешнего хранилища |Да/Нет
|Добавить подпись |Сотрудник |Сотрудник DV
|Заблокировать файл и сохранить на диск |Файл |Файл ФС
| |Сотрудник |Сотрудник DV
| |Сохранить на диск |Да/Нет
|Заблокировать файл по пути и сохранить на дискlink:#fntarg_1[^1^] |Путь к файлу |Строковое
| |Идентификатор сотрудника |Строковое
| |Сохранить на диск |Да/Нет
|Зашифровать файл для сотрудника |Сотрудник |Сотрудник DV
|Получить список подписавших |Список подписавших |Сотрудник DV, коллекция, выходной параметр
|Получить список шифрования |Список шифрования |Сотрудник DV, коллекция, выходной параметр
|Проверить подписьlink:#fntarg_2[^2^] |Сотрудник |Сотрудник DV
| |Возвращаемое значение |Целое, выходной параметр
|Расшифровать файлlink:#fntarg_3[^3^] |Возвращаемое значение |Файл ФС, выходной параметр
|Сохранить изменения и разблокировать |Файл |Файл ФС
|Сохранить изменения и разблокировать с синхронизацией свойств |Файл |Файл ФС
| |Копировать поля в свойства файла |Да/Нет
| |Копировать свойства файла в поля |Да/Нет
|Сохранить изменения и разблокировать с синхронизацией свойств по умолчанию |Файл |Файл ФС
|Сохранить файл |Путь к файлу |Строковое, обязательный параметр
|Сохранить файл в папку |Папка |Папка ФС
| |Перезаписывать файлы |Да/Нет
|Сохранить файл в файл |Путь к файлу |Файл ФС, обязательный параметр
|Сохранить файлы в папку |Карточки файла |Файл DV, коллекционное
| |Папка |Папка ФС
| |Перезаписывать файлы |Да/Нет
|Удалить все подписи |– |–
|Удалить подпись |Сотрудник |Сотрудник DV
|Удалить шифрование для сотрудника |Сотрудник |Сотрудник DV
|Удалить шифрование файла |– |–
|===

*На уровень выше:* xref:Function_Universal_Docsvision.adoc[Типы переменных шлюза к Docsvision]

link:#fnsrc_1[^1^]

При использовании функции *Заблокировать файл по пути и сохранить на диск* файл будет заблокирован в системе Docsvision и сохранен в файловой системе того компьютера, на котором установлен сервер Docsvision и работает сервис Workflow.

В диалоговом окне *Блокировки* (доступно из пункта *Сервис* главного меню) в качестве пользователя, блокирующего файл, будет указана учетная запись Workflow, а фамилия пользователя, чей идентификатор был указан в параметрах функции, будет указана в карточках, к которым присоединен этот файл.

link:#fnsrc_2[^2^]

Функция *Проверить подпись* возвращает значения:

* -1 – файл не подписан указанным пользователем;
* 0 – подпись верна;
* 1 – подпись верна, но сертификат некорректен;
* 2 – подпись неверна.

link:#fnsrc_3[^3^] Функция *Расшифровать файл* создаёт в файловой системе новый файл, содержащий расшифрованные данные. Исходный файл на сервере Docsvision остаётся зашифрованным.
