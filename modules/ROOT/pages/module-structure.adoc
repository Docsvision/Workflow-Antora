= Структура модуля

.модуль {wf} состоит из двух частей:
. Серверная часть обеспечивает выполнение БП и предоставляет необходимые для их выполнения _Шлюзы_ и _Функции_.
+
.Включает следующие элементы:
.. Сервис Workflow -- осуществляет управление состоянием БП (запуск, старт, стоп) и управляет рабочими процессами ExecLogic (запуск, остановка).
.. Рабочий процесс ExecLogic -- выполняет следующие функции:
+
* Выделяет БП шлюз из пула шлюзов.
* Выделяет БП сессию из пула сессий.
* Контролирует состояние БП.
* Контролирует потребление оперативной памяти.
* Контролирует время выполнения Функций БП в потоках и основных рабочих потоков, с обнаружением "зависаний" в пользовательском коде.
* Управляет очередью исполнения процессов.
* Контролирует время жизни рабочего процесса.
+
.. _Шлюзы_ -- обеспечивают интеграцию с внешней (по отношению к модулю) системой (например, {dv}, Microsoft Exchange), предоставляя _Функции_ и типы переменных для работы с этой системой.
+
--
.Модуль _{wf}_ содержит следующие стандартные шлюзы:
* Шлюз к простым типам -- предоставляет набор стандартных _Функций_, в т.ч. функцию _Сценарий_, и типы переменных: целое, строка, дата, время и другие.
* Шлюз к {dv} -- предоставляет набор _Функций_ и типов для работы с объектами системы {dv}.
* Шлюз к файловой системе -- предоставляет набор _Функций_ и типов для работы с файловой системой.
* Шлюз к почте -- предоставляет набор _Функций_ и типов для работы с почтовым сервером (например, Microsoft Exchange).
--
+
При необходимости могут быть разработаны шлюзы к другим внешним системам.
+
.. _Функции_ -- реализуют методы обработки данных, предоставляемых на вход функции, возвращает результат выполнения. _Функции_ БП связываются между собой организую цепочку обработки данных в БП.
.. Схема метаданных и объектная модель карточки _Бизнес-процесс_.
. Клиентская часть обеспечивает возможность настройки БП с помощью _Конструктора бизнес-процессов_.
+
.Включает следующие элементы:
.. Клиентские компоненты _Функций_ и _Шлюзов_.
.. Вспомогательная карточка системных настроек, которая среди прочего содержит список зарегистрированных шлюзов и функций.
.. Монитор бизнес-процессов -- карточка, позволяющая просматривать и изменять очередь исполнения бизнес-процессов.
.. Конструктор бизнес-процессов -- инструмент конструирования и настройки бизнес-процессов.

Ниже приведена схема взаимодействия компонентов модуля и внешних систем.

.Архитектура модуля {wf}
image::admin:workflow-architecture.png[Архитектура модуля {wf}]
